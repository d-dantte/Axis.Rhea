# Defines a unix-file-path-like declarative representation of object graphs.
#
# /abcd/efgh/[4]/xyz
#

# path def
$path-definition -> $path-segment.+

# path segment
$path-segment -> +['/' ?[$property $index]]

# property
$property -> ?[@qas $identifier]
$identifier -> /^[a-zA-Z$]\w*\z/

# index
$index -> +['[' $integer ']']
$integer -> +[$negative.? $digits]
$negative -> '-'
$digits -> /^\d+$/